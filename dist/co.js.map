{"version":3,"sources":["../src/co.js"],"names":["co","require","fetch","run","generator","iterator","it","next","promise","value","then","it2","data","promise2","data2","res","json","movie","summary","console","log"],"mappings":";;;;;;;;AAAA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,QAAQD,QAAQ,YAAR,CAAd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,SAASE,GAAT,CAAaC,SAAb,EAAwB;AACtB,MAAMC,WAAWD,WAAjB;AACA,MAAME,KAAKD,SAASE,IAAT,EAAX;AACA,MAAMC,UAAUF,GAAGG,KAAnB;AACAD,UAAQE,IAAR,CAAa,gBAAQ;AACnB,QAAMC,MAAMN,SAASE,IAAT,CAAcK,IAAd,CAAZ;AACA,QAAMC,WAAWF,IAAIF,KAArB;AACAI,aAASH,IAAT,CAAc,iBAAS;AACrBL,eAASE,IAAT,CAAcO,KAAd;AACD,KAFD;AAGD,GAND;AAOD;AACDX,6CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACeD,MAAM,yCAAN,CADf;;AAAA;AACGa,aADH;AAAA;AAAA,iBAEiBA,IAAIC,IAAJ,EAFjB;;AAAA;AAEGC,eAFH;AAE4B;AACzBC,iBAHH,GAGaD,MAAMC,OAHnB;;AAIHC,kBAAQC,GAAR,CAAY,SAAZ,EAAuBF,OAAvB;;AAJG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAL","file":"co.js","sourcesContent":["const co = require('co')\nconst fetch = require('node-fetch')\n\n// co库\n// 2.使用co库\n// co(function *() {\n//   const res = yield fetch('https://api.douban.com/v2/movie/1291843')\n//   const movie = yield res.json() //yield对应co库中的一次promise\n//   const summary = movie.summary\n//   console.log('summary', summary)\n// })\n\n\n// 1.还原co库的执行\nfunction run(generator) {\n  const iterator = generator()\n  const it = iterator.next()\n  const promise = it.value\n  promise.then(data => {\n    const it2 = iterator.next(data)\n    const promise2 = it2.value\n    promise2.then(data2 => {\n      iterator.next(data2)\n    })\n  })\n}\nrun (function *() {\n  const res = yield fetch('https://api.douban.com/v2/movie/1291843')\n  const movie = yield res.json() //yield对应co库中的一次promise\n  const summary = movie.summary\n  console.log('summary', summary)\n}\n)\n"]}